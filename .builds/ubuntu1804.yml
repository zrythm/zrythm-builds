image: ubuntu/18.04
packages:
  - libgtk-3-dev
  - libjack-dev
  - libsndfile1-dev
  - debhelper
  - dpkg-dev
  - build-essential
  - ninja-build
  - gettext
  - guile-2.2-dev
  - help2man
  - python3-sphinx
  - ladspa-sdk
  - libfftw3-dev
  - libasound2-dev
  - libavcodec-dev
  - libavutil-dev
  - libavformat-dev
  - libchromaprint-dev
  - libgtksourceview-3.0-dev
  - libgraphviz-dev
  - libsamplerate0-dev
  - libyaml-dev
  - librubberband-dev
  - libzstd-dev
  - python3
  - zip
  - xdg-utils
  - wget
sources:
  - https://git.sr.ht/~alextee/zrythm
  - https://git.sr.ht/~alextee/zrythm-installer
  - https://github.com/mesonbuild/meson
secrets:
  - ffff20bf-6fd3-40d6-b26a-92f6c8dc1fcf
tasks:
  - make: |
      cd zrythm-installer
      sed -i -e "s/ZRYTHM_VERSION=.*/ZRYTHM_VERSION=master/" Makefile
      make ubuntu1804
